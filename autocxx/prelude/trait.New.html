<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="An in-place constructor for a particular type."><title>New in autocxx::prelude - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-46f98efaafac5295.ttf.woff2,FiraSans-Regular-018c141bf0843ffd.woff2,FiraSans-Medium-8f9a781e4970d388.woff2,SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2,SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../static.files/rustdoc-492a78a4a87dcc01.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="autocxx" data-themes="" data-resource-suffix="" data-rustdoc-version="1.82.0 (f6e511eec 2024-10-15)" data-channel="1.82.0" data-search-js="search-a99f1315e7cc5121.js" data-settings-js="settings-4313503d2e1961c2.js" ><script src="../../static.files/storage-118b08c4c78b968e.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../static.files/main-921df33f47b8780c.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-3b12f09e550e0385.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../autocxx/index.html">autocxx</a><span class="version">0.27.0</span></h2></div><h2 class="location"><a href="#">New</a></h2><div class="sidebar-elems"><section><h3><a href="#required-associated-types">Required Associated Types</a></h3><ul class="block"><li><a href="#associatedtype.Output">Output</a></li></ul><h3><a href="#required-methods">Required Methods</a></h3><ul class="block"><li><a href="#tymethod.new">new</a></li></ul><h3><a href="#provided-methods">Provided Methods</a></h3><ul class="block"><li><a href="#method.with">with</a></li></ul><h3><a href="#object-safety">Object Safety</a></h3><h3><a href="#implementors">Implementors</a></h3></section><h2><a href="index.html">In autocxx::<wbr>prelude</a></h2></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><h1>Trait <a href="../index.html">autocxx</a>::<wbr><a href="index.html">prelude</a>::<wbr><a class="trait" href="#">New</a><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><span class="out-of-band"><a class="src" href="../../src/moveit/new/mod.rs.html#48">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><pre class="rust item-decl"><code>pub unsafe trait New: <a class="trait" href="https://doc.rust-lang.org/1.82.0/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a> {
    type <a href="#associatedtype.Output" class="associatedtype">Output</a>;

    // Required method
    unsafe fn <a href="#tymethod.new" class="fn">new</a>(self, this: <a class="struct" href="https://doc.rust-lang.org/1.82.0/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;&amp;mut <a class="union" href="https://doc.rust-lang.org/1.82.0/core/mem/maybe_uninit/union.MaybeUninit.html" title="union core::mem::maybe_uninit::MaybeUninit">MaybeUninit</a>&lt;Self::<a class="associatedtype" href="trait.New.html#associatedtype.Output" title="type autocxx::prelude::New::Output">Output</a>&gt;&gt;);

    // Provided method
    fn <a href="#method.with" class="fn">with</a>&lt;F&gt;(self, post: F) -&gt; <a class="struct" href="../../moveit/new/struct.With.html" title="struct moveit::new::With">With</a>&lt;Self, F&gt;
       <span class="where">where F: <a class="trait" href="https://doc.rust-lang.org/1.82.0/core/ops/function/trait.FnOnce.html" title="trait core::ops::function::FnOnce">FnOnce</a>(<a class="struct" href="https://doc.rust-lang.org/1.82.0/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;&amp;mut Self::<a class="associatedtype" href="trait.New.html#associatedtype.Output" title="type autocxx::prelude::New::Output">Output</a>&gt;)</span> { ... }
}</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>An in-place constructor for a particular type.</p>
<h2 id="safety"><a class="doc-anchor" href="#safety">§</a>Safety</h2>
<p><a href="trait.New.html#tymethod.new" title="method autocxx::prelude::New::new"><code>New::new()</code></a> must leave its destination argument in a valid, initialized
state.</p>
</div></details><h2 id="required-associated-types" class="section-header">Required Associated Types<a href="#required-associated-types" class="anchor">§</a></h2><div class="methods"><details class="toggle" open><summary><section id="associatedtype.Output" class="method"><a class="src rightside" href="../../src/moveit/new/mod.rs.html#50">source</a><h4 class="code-header">type <a href="#associatedtype.Output" class="associatedtype">Output</a></h4></section></summary><div class="docblock"><p>The type to construct.</p>
</div></details></div><h2 id="required-methods" class="section-header">Required Methods<a href="#required-methods" class="anchor">§</a></h2><div class="methods"><details class="toggle method-toggle" open><summary><section id="tymethod.new" class="method"><a class="src rightside" href="../../src/moveit/new/mod.rs.html#58">source</a><h4 class="code-header">unsafe fn <a href="#tymethod.new" class="fn">new</a>(self, this: <a class="struct" href="https://doc.rust-lang.org/1.82.0/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;&amp;mut <a class="union" href="https://doc.rust-lang.org/1.82.0/core/mem/maybe_uninit/union.MaybeUninit.html" title="union core::mem::maybe_uninit::MaybeUninit">MaybeUninit</a>&lt;Self::<a class="associatedtype" href="trait.New.html#associatedtype.Output" title="type autocxx::prelude::New::Output">Output</a>&gt;&gt;)</h4></section></summary><div class="docblock"><p>Construct a new value using the arguments stored in <code>self</code>.</p>
<h5 id="safety-1"><a class="doc-anchor" href="#safety-1">§</a>Safety</h5>
<p><code>this</code> must be freshly-created memory; this function must not
be used to mutate a previously-pinned pointer that has had <code>self: Pin</code>
functions called on it.</p>
</div></details></div><h2 id="provided-methods" class="section-header">Provided Methods<a href="#provided-methods" class="anchor">§</a></h2><div class="methods"><details class="toggle method-toggle" open><summary><section id="method.with" class="method"><a class="src rightside" href="../../src/moveit/new/mod.rs.html#86-88">source</a><h4 class="code-header">fn <a href="#method.with" class="fn">with</a>&lt;F&gt;(self, post: F) -&gt; <a class="struct" href="../../moveit/new/struct.With.html" title="struct moveit::new::With">With</a>&lt;Self, F&gt;<div class="where">where
    F: <a class="trait" href="https://doc.rust-lang.org/1.82.0/core/ops/function/trait.FnOnce.html" title="trait core::ops::function::FnOnce">FnOnce</a>(<a class="struct" href="https://doc.rust-lang.org/1.82.0/core/pin/struct.Pin.html" title="struct core::pin::Pin">Pin</a>&lt;&amp;mut Self::<a class="associatedtype" href="trait.New.html#associatedtype.Output" title="type autocxx::prelude::New::Output">Output</a>&gt;),</div></h4></section></summary><div class="docblock"><p>Adds a post-construction operation.</p>
<p>This function wraps <code>self</code> in an another <a href="trait.New.html" title="trait autocxx::prelude::New"><code>New</code></a> type which will call
<code>post</code> once the main emplacement operation is complete. This is most
useful for the case where creation of the value itself does not depend
on the final address, but where some address-sensitive setup may want
to occur; this can help minimize the scope (or even need for) <code>unsafe</code>.</p>
<p>This function is best combined with other helpers:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">pub struct </span>MyType { <span class="comment">/* ... */ </span>}

<span class="kw">impl </span>MyType {
  <span class="kw">pub fn </span>new() -&gt; <span class="kw">impl </span>New&lt;Output = <span class="self">Self</span>&gt; {
    new::of(MyType { <span class="comment">/* ... */ </span>}).with(|this| {
      <span class="comment">// Address-sensitive setup can occur here.
    </span>})
  }
}</code></pre></div>
<p>Note: The return value of this function should not be relied upon; a
future version will replace it with <code>impl New</code>.</p>
</div></details></div><h2 id="object-safety" class="section-header">Object Safety<a href="#object-safety" class="anchor">§</a></h2><div class="object-safety-info">This trait is <b>not</b> <a href="https://doc.rust-lang.org/1.82.0/reference/items/traits.html#object-safety">object safe</a>.</div><h2 id="implementors" class="section-header">Implementors<a href="#implementors" class="anchor">§</a></h2><div id="implementors-list"></div><script src="../../trait.impl/moveit/new/trait.New.js" async></script></section></div></main></body></html>